# TextPix - AI å†…å®¹ç”Ÿæˆå™¨

ä¸€ä¸ªåŸºäº AI çš„å†…å®¹ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒç”Ÿæˆç²¾ç¾çš„æ–‡ç« å’Œå¾®ä¿¡èŠå¤©è®°å½•æ ·å¼çš„å›¾æ–‡å†…å®¹ã€‚

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/Python-3.11-green.svg)
![Django](https://img.shields.io/badge/Django-5.2-green.svg)
![React](https://img.shields.io/badge/React-19-blue.svg)

## ğŸ“– é¡¹ç›®ç®€ä»‹

TextPix æ˜¯ä¸€ä¸ªå…¨æ ˆ AI å†…å®¹ç”Ÿæˆåº”ç”¨ï¼Œç”¨æˆ·è¾“å…¥ä¸»é¢˜å’Œå†…å®¹æè¿°ï¼ŒAI ä¼šè‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–çš„æ–‡ç« æˆ–å¾®ä¿¡èŠå¤©è®°å½•ï¼Œå¹¶æ¸²æŸ“æˆç²¾ç¾çš„ HTML é¡µé¢ã€‚

### âœ¨ ä¸»è¦åŠŸèƒ½

- ğŸ¤– **AI æ™ºèƒ½ç”Ÿæˆ**ï¼šåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡å†…å®¹
- ğŸ“ **å¤šç§æ¨¡æ¿**ï¼šæ”¯æŒæ™®é€šæ–‡ç« å’Œå¾®ä¿¡èŠå¤©è®°å½•ä¸¤ç§æ ·å¼
- ğŸŒŠ **æµå¼è¾“å‡º**ï¼šSSE å®æ—¶æµå¼ä¼ è¾“ï¼Œè¾¹ç”Ÿæˆè¾¹æ˜¾ç¤º
- ğŸ¨ **ç²¾ç¾æ¸²æŸ“**ï¼šè‡ªåŠ¨å°† JSON æ•°æ®æ¸²æŸ“æˆç¾è§‚çš„ HTML é¡µé¢
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢å’Œç§»åŠ¨ç«¯è®¿é—®

### ğŸ“¸ æ•ˆæœé¢„è§ˆ

| æ™®é€šæ–‡ç« æ¨¡æ¿ | å¾®ä¿¡èŠå¤©æ¨¡æ¿ |
|-------------|-------------|
| é€‚åˆæ•™ç¨‹ã€åˆ†äº«ç±»å†…å®¹ | æ¨¡æ‹ŸçœŸå®å¾®ä¿¡èŠå¤©è®°å½• |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯ (textpix/)

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **Python** | 3.11 | ç¼–ç¨‹è¯­è¨€ |
| **Django** | 5.2 | Web æ¡†æ¶ |
| **Django REST Framework** | 3.16 | RESTful API |
| **httpx** | 0.28 | å¼‚æ­¥ HTTP å®¢æˆ·ç«¯ |
| **aiohttp** | 3.13 | å¼‚æ­¥ HTTP åº“ |
| **Gunicorn** | 21.2 | WSGI æœåŠ¡å™¨ |
| **WhiteNoise** | 6.6 | é™æ€æ–‡ä»¶æœåŠ¡ |

### å‰ç«¯ (my-react-app/)

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| **React** | 19 | UI æ¡†æ¶ |
| **React Router** | 7 | è·¯ç”±ç®¡ç† |
| **React Markdown** | 10 | Markdown æ¸²æŸ“ |
| **CSS3** | - | æ ·å¼è®¾è®¡ |

### éƒ¨ç½²å¹³å°

| æ–¹æ¡ˆ | å¹³å° | è¯´æ˜ |
|------|------|------|
| **æ–¹æ¡ˆä¸€ï¼ˆæ¨èï¼‰** | **Render** | å‰åç«¯åˆå¹¶éƒ¨ç½²ï¼Œå•ä¸€æœåŠ¡ |
| æ–¹æ¡ˆäºŒ | Vercel + Render | å‰åç«¯åˆ†ç¦»éƒ¨ç½² |

## ğŸ“ é¡¹ç›®ç»“æ„

```
django-textpix/
â”œâ”€â”€ textpix/                    # Django åç«¯
â”‚   â”œâ”€â”€ contentgenerater/       # AI å†…å®¹ç”Ÿæˆæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ai_service.py       # AI æœåŠ¡å°è£…
â”‚   â”‚   â”œâ”€â”€ views.py            # API è§†å›¾
â”‚   â”‚   â”œâ”€â”€ urls.py             # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ textpix/                # Django é¡¹ç›®é…ç½®
â”‚   â”‚   â”œâ”€â”€ settings.py         # é¡¹ç›®è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ urls.py             # ä¸»è·¯ç”±ï¼ˆå« React é™æ€æ‰˜ç®¡ï¼‰
â”‚   â”‚   â””â”€â”€ wsgi.py             # WSGI å…¥å£
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â”œâ”€â”€ Dockerfile              # Docker é…ç½®
â”‚   â””â”€â”€ manage.py               # Django ç®¡ç†è„šæœ¬
â”‚
â”œâ”€â”€ my-react-app/               # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ renderers/      # HTML æ¸²æŸ“å™¨
â”‚   â”‚   â””â”€â”€ App.js              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json            # Node ä¾èµ–
â”‚   â””â”€â”€ vercel.json             # Vercel é…ç½®
â”‚
â”œâ”€â”€ render.yaml                 # Render éƒ¨ç½²é…ç½®ï¼ˆå‰åç«¯åˆå¹¶ï¼‰
â””â”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å‰ç½®è¦æ±‚

- GitHub è´¦å·
- Render è´¦å· (https://render.com)
- AI API æœåŠ¡ï¼ˆå…¼å®¹ OpenAI API æ ¼å¼ï¼‰

---

### ç¬¬ä¸€æ­¥ï¼šFork æˆ– Clone é¡¹ç›®

```bash
git clone https://github.com/your-username/django-textpix.git
cd django-textpix
```

---

## å‰åç«¯åˆå¹¶éƒ¨ç½²åˆ° Renderï¼ˆæ¨èï¼‰

è¿™ç§æ–¹æ¡ˆå°†å‰åç«¯ä½œä¸ºä¸€ä¸ªæœåŠ¡éƒ¨ç½²ï¼Œå…±äº«åŒä¸€ä¸ªåŸŸåï¼Œæ— è·¨åŸŸé—®é¢˜ã€‚

### 1.1 ä½¿ç”¨ Blueprint éƒ¨ç½²

é¡¹ç›®å·²åŒ…å« `render.yaml` é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä¸€é”®éƒ¨ç½²ï¼š

1. ç™»å½• [Render Dashboard](https://dashboard.render.com)
2. ç‚¹å‡» **"New +"** â†’ **"Blueprint"**
3. é€‰æ‹©ä½ çš„ GitHub ä»“åº“
4. Render ä¼šè‡ªåŠ¨æ£€æµ‹ `render.yaml` å¹¶é…ç½®æœåŠ¡
5. æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆè§ä¸‹æ–¹ï¼‰
6. ç‚¹å‡» **"Apply"** å¼€å§‹éƒ¨ç½²

### 1.2 é…ç½®ç¯å¢ƒå˜é‡

åœ¨ Render Dashboard ä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

| Key | Value | è¯´æ˜ |
|-----|-------|------|
| `CUSTOM_AI_BASE_URL` | `https://api.openai.com/v1` | AI API åœ°å€ |
| `CUSTOM_AI_API_KEY` | `your-api-key` | AI API å¯†é’¥ |
| `CUSTOM_AI_MODEL` | `gpt-3.5-turbo` | æ¨¡å‹åç§° |

> ğŸ’¡ `SECRET_KEY`ã€`DEBUG`ã€`ALLOWED_HOSTS`ã€`CORS_ALLOWED_ORIGINS` å·²åœ¨ `render.yaml` ä¸­é…ç½®

### 1.3 éƒ¨ç½²åè®¿é—®

- **å‰ç«¯é¡µé¢**: `https://textpix.onrender.com/`
- **API æ¥å£**: `https://textpix.onrender.com/api/...`

### 1.4 å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Render Service                   â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ React Build  â”‚      â”‚   Django Backend     â”‚ â”‚
â”‚  â”‚ (é™æ€æ–‡ä»¶)    â”‚ â”€â”€â”€â”€ â”‚   (API + é™æ€æ‰˜ç®¡)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                  â”‚
â”‚  /api/*  â†’ Django API                           â”‚
â”‚  /*      â†’ React index.html                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


### éªŒè¯éƒ¨ç½²

1. è®¿é—®ä½ çš„å‰ç«¯ URL
2. è¾“å…¥ä¸»é¢˜å’Œå†…å®¹æè¿°
3. ç‚¹å‡»ç”Ÿæˆï¼ŒæŸ¥çœ‹ AI ç”Ÿæˆçš„å†…å®¹

---

## ğŸ’» æœ¬åœ°å¼€å‘

### åç«¯

```bash
# è¿›å…¥åç«¯ç›®å½•
cd textpix

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
python manage.py runserver
```

åç«¯å°†è¿è¡Œåœ¨ http://localhost:8000

### å‰ç«¯

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd my-react-app

# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
echo "REACT_APP_API_URL=http://localhost:8000/api" > .env.local

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm start
```

å‰ç«¯å°†è¿è¡Œåœ¨ http://localhost:3000

---

## ğŸ”§ API æ–‡æ¡£

### æµå¼å†…å®¹ç”Ÿæˆ

**POST** `/api/generate-stream`

è¯·æ±‚ä½“ï¼š
```json
{
  "theme": "ä¸»é¢˜/å…³é”®è¯",
  "content": "å†…å®¹æè¿°",
  "images": [],
  "templateType": "normal"  // normal | wechat
}
```

å“åº”ï¼šServer-Sent Events (SSE)
```
data: {"content": "..."}
data: {"content": "..."}
data: [DONE]
```

### å†…å®¹ä¼˜åŒ–

**POST** `/api/optimize`

è¯·æ±‚ä½“ï¼š
```json
{
  "html": "è¦ä¼˜åŒ–çš„å†…å®¹",
  "type": "grammar"  // grammar | seo | readability
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### Render å…è´¹ç‰ˆé™åˆ¶

- **å†·å¯åŠ¨**ï¼š15 åˆ†é’Ÿæ— è¯·æ±‚åæœåŠ¡ä¼šä¼‘çœ ï¼Œé¦–æ¬¡è®¿é—®éœ€ç­‰å¾…çº¦ 30 ç§’
- **è¿è¡Œæ—¶é—´**ï¼šæ¯æœˆ 750 å°æ—¶å…è´¹

### å®‰å…¨å»ºè®®

ç”Ÿäº§ç¯å¢ƒè¯·ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```bash
# æŒ‡å®šå…·ä½“åŸŸå
ALLOWED_HOSTS=your-backend.onrender.com
CORS_ALLOWED_ORIGINS=https://your-frontend.vercel.app
```

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ [Issue](https://github.com/your-username/django-textpix/issues)ã€‚
